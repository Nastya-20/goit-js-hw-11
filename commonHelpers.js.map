{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '44783480-725b805b80ef605c474d620ee';\n\nexport function searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => data.hits) // Повернути масив зображень\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function initializeLightbox() {\n    lightbox = new SimpleLightbox('.gallery a');\n}\n\nexport function refreshLightbox() {\n    if (lightbox) {\n        lightbox.refresh();\n    }\n}\n\nexport function renderImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    showNoResultsMessage();\n    return;\n  }\n\n  const markup = images.map(image => {\n    return `\n   <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        <div class=\"info\">\n          <p>Likes: <span class=\"number\">${image.likes}</span></p>\n          <p>Views: <span class=\"number\">${image.views}</span></p>\n          <p>Comments: <span class=\"number\">${image.comments}</span></p>\n          <p>Downloads: <span class=\"number\">${image.downloads}</span></p>\n        </div>\n      </a>\n    `;\n  }).join('');\n  gallery.innerHTML = markup;\n}\n\nfunction showNoResultsMessage() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '<p>Sorry, there are no images matching your search query. Please try again!</p>';\n}\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api.js';\nimport { renderImages, initializeLightbox, refreshLightbox } from './js/render-functions.js';\n\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector('.loader');\nconst gallery = document.getElementById('gallery');\n\n// Ініціализація SimpleLightbox\ninitializeLightbox();\n\nsearchForm.addEventListener('submit', function(event) {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.'\n    });\n    return;\n  }\n\n  showLoader(); // Показати завантажувач перед запитом\n  searchImages(query)\n    .then(images => {\n      renderImages(images); // Відобразити зображення в галереї\n\n      // Очистити input після успішного пошука та рендерінга зображень\n      searchInput.value = '';\n      refreshLightbox(); // Оновити SimpleLightbox\n    })\n    .catch(error => {\n      console.error('Error searching images:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.'\n      });\n    })\n    .finally(() => {\n      hideLoader(); // Приховати завантажувач після завершення запиту (незалежно від результату)\n    });\n});\n\nfunction showLoader() {\n  loader.style.display = 'block';\n  gallery.innerHTML = ''; // Очистити галерею перед показом нових зображень\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n"],"names":["apiKey","searchImages","query","url","response","data","error","lightbox","initializeLightbox","SimpleLightbox","refreshLightbox","renderImages","images","gallery","showNoResultsMessage","markup","image","searchForm","searchInput","loader","event","iziToast","showLoader","hideLoader"],"mappings":"6vBAAA,MAAMA,EAAS,qCAER,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAAM,gCAAgCH,CAAM,MAAM,mBAAmBE,CAAK,CAAC,2DACjF,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCbA,IAAIC,EAEG,SAASC,GAAqB,CACjCD,EAAW,IAAIE,EAAe,YAAY,CAC9C,CAEO,SAASC,GAAkB,CAC1BH,GACAA,EAAS,QAAO,CAExB,CAEO,SAASI,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACvBE,IACA,MACD,CAED,MAAMC,EAASH,EAAO,IAAII,GACjB;AAAA,cACGA,EAAM,aAAa;AAAA,oBACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2CAEfA,EAAM,KAAK;AAAA,2CACXA,EAAM,KAAK;AAAA,8CACRA,EAAM,QAAQ;AAAA,+CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAI3D,EAAE,KAAK,EAAE,EACVH,EAAQ,UAAYE,CACtB,CAEA,SAASD,GAAuB,CAC9B,MAAMD,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,iFACtB,CCtCA,MAAMI,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCN,EAAU,SAAS,eAAe,SAAS,EAGjDL,IAEAS,EAAW,iBAAiB,SAAU,SAASG,EAAO,CACpDA,EAAM,eAAc,EACpB,MAAMlB,EAAQgB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAAChB,EAAO,CACVmB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDC,IACArB,EAAaC,CAAK,EACf,KAAKU,GAAU,CACdD,EAAaC,CAAM,EAGnBM,EAAY,MAAQ,GACpBR,GACN,CAAK,EACA,MAAMJ,GAAS,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9Ce,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbE,GACN,CAAK,CACL,CAAC,EAED,SAASD,GAAa,CACpBH,EAAO,MAAM,QAAU,QACvBN,EAAQ,UAAY,EACtB,CAEA,SAASU,GAAa,CACpBJ,EAAO,MAAM,QAAU,MACzB"}