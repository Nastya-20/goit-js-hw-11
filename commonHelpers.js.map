{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '44783480-725b805b80ef605c474d620ee';\n\nexport async function searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    const data = await response.json();\n    return data.hits; // Повертаємо масив зображень\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n\n","import SimpleLightbox from 'simplelightbox';\n\nexport function renderImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    showNoResultsMessage();\n    return;\n  }\n\n  const lightbox = new SimpleLightbox('.gallery a');\n\n  images.forEach(image => {\n    const imgElement = document.createElement('img');\n    imgElement.src = image.webformatURL;\n    imgElement.alt = image.tags;\n    \n    const linkElement = document.createElement('a');\n    linkElement.href = image.largeImageURL;\n    linkElement.appendChild(imgElement);\n    \n    gallery.appendChild(linkElement);\n  });\n\n  lightbox.refresh();\n}\n\nfunction showNoResultsMessage() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '<p>Sorry, there are no images matching your search query. Please try again!</p>';\n}\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector('.loader');\nconst gallery = document.getElementById('gallery');\n\nsearchForm.addEventListener('submit', async function(event) {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search keyword.'\n    });\n    return;\n  }\n\n  try {\n    showLoader(); // Показати завантажувач перед запитом\n    const images = await searchImages(query);\n    renderImages(images); // Відобразити зображення в галереї\n  } catch (error) {\n    console.error('Error searching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later.'\n    });\n  } finally {\n    hideLoader(); // Приховати завантажувач після завершення запиту (незалежно від результату)\n  }\n});\n\nfunction showLoader() {\n  loader.style.display = 'block';\n  gallery.innerHTML = ''; // Очистити галерею перед показом нових зображень\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}"],"names":["apiKey","searchImages","query","url","response","error","renderImages","images","gallery","showNoResultsMessage","lightbox","SimpleLightbox","image","imgElement","linkElement","searchForm","searchInput","loader","event","iziToast","showLoader","hideLoader"],"mappings":"6vBAAA,MAAMA,EAAS,qCAER,eAAeC,EAAaC,EAAO,CACxC,MAAMC,EAAM,gCAAgCH,CAAM,MAAM,mBAAmBE,CAAK,CAAC,2DACjF,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAG/C,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCbO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACvBE,IACA,MACD,CAED,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAEhDJ,EAAO,QAAQK,GAAS,CACtB,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMD,EAAM,aACvBC,EAAW,IAAMD,EAAM,KAEvB,MAAME,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,KAAOF,EAAM,cACzBE,EAAY,YAAYD,CAAU,EAElCL,EAAQ,YAAYM,CAAW,CACnC,CAAG,EAEDJ,EAAS,QAAO,CAClB,CAEA,SAASD,GAAuB,CAC9B,MAAMD,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,iFACtB,CC1BA,MAAMO,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCT,EAAU,SAAS,eAAe,SAAS,EAEjDO,EAAW,iBAAiB,SAAU,eAAeG,EAAO,CAC1DA,EAAM,eAAc,EACpB,MAAMhB,EAAQc,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACd,EAAO,CACViB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCACf,CAAK,EACD,MACD,CAED,GAAI,CACFC,IACA,MAAMb,EAAS,MAAMN,EAAaC,CAAK,EACvCI,EAAaC,CAAM,CACpB,OAAQF,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9Cc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACf,CAAK,CACL,QAAY,CACRE,GACD,CACH,CAAC,EAED,SAASD,GAAa,CACpBH,EAAO,MAAM,QAAU,QACvBT,EAAQ,UAAY,EACtB,CAEA,SAASa,GAAa,CACpBJ,EAAO,MAAM,QAAU,MACzB"}