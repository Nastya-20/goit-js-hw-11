{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '44783480-725b805b80ef605c474d620ee';\n\nexport async function searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    const data = await response.json();\n    return data.hits; // Повертаємо масив зображень\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n  if (images.length === 0) {\n    showNoResultsMessage();\n    return;\n  }\n\n  const markup = images.map(image => {\n    return `\n   <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        <div class=\"info\">\n          <p>Likes: <span class=\"number\">${image.likes}</span></p>\n          <p>Views: <span class=\"number\">${image.views}</span></p>\n          <p>Comments: <span class=\"number\">${image.comments}</span></p>\n          <p>Downloads: <span class=\"number\">${image.downloads}</span></p>\n        </div>\n      </a>\n    `;\n  }).join('');\n  gallery.innerHTML = markup;\n\n  // Ініціалізація SimpleLightbox\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nfunction showNoResultsMessage() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '<p>Sorry, there are no images matching your search query. Please try again!</p>';\n}\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector('.loader');\nconst gallery = document.getElementById('gallery');\n\nsearchForm.addEventListener('submit', async function(event) {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Sorry, there are no images matching your search query. Please, try again!.'\n    });\n    return;\n  }\n\n  try {\n    showLoader(); // Показати завантажувач перед запитом\n    const images = await searchImages(query);\n    renderImages(images); // Відобразити зображення в галереї\n  } catch (error) {\n    console.error('Error searching images:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later.'\n    });\n  } finally {\n    hideLoader(); // Приховати завантажувач після завершення запиту (незалежно від результату)\n  }\n});\n\nfunction showLoader() {\n  loader.style.display = 'block';\n  gallery.innerHTML = ''; // Очистити галерею перед показом нових зображень\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}"],"names":["apiKey","searchImages","query","url","response","error","renderImages","images","gallery","showNoResultsMessage","markup","image","SimpleLightbox","searchForm","searchInput","loader","event","iziToast","showLoader","hideLoader"],"mappings":"wvBAAA,MAAMA,EAAS,qCAER,eAAeC,EAAaC,EAAO,CACxC,MAAMC,EAAM,gCAAgCH,CAAM,MAAM,mBAAmBE,CAAK,CAAC,2DACjF,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAG/C,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCZO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACvBE,IACA,MACD,CAED,MAAMC,EAASH,EAAO,IAAII,GACjB;AAAA,cACGA,EAAM,aAAa;AAAA,oBACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2CAEfA,EAAM,KAAK;AAAA,2CACXA,EAAM,KAAK;AAAA,8CACRA,EAAM,QAAQ;AAAA,+CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAI3D,EAAE,KAAK,EAAE,EACVH,EAAQ,UAAYE,EAGH,IAAIE,EAAe,YAAY,EACvC,QAAO,CAClB,CAEA,SAASH,GAAuB,CAC9B,MAAMD,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,iFACtB,CC9BA,MAAMK,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCP,EAAU,SAAS,eAAe,SAAS,EAEjDK,EAAW,iBAAiB,SAAU,eAAeG,EAAO,CAC1DA,EAAM,eAAc,EACpB,MAAMd,EAAQY,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACZ,EAAO,CACVe,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4EACf,CAAK,EACD,MACD,CAED,GAAI,CACFC,IACA,MAAMX,EAAS,MAAMN,EAAaC,CAAK,EACvCI,EAAaC,CAAM,CACpB,OAAQF,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CY,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACf,CAAK,CACL,QAAY,CACRE,GACD,CACH,CAAC,EAED,SAASD,GAAa,CACpBH,EAAO,MAAM,QAAU,QACvBP,EAAQ,UAAY,EACtB,CAEA,SAASW,GAAa,CACpBJ,EAAO,MAAM,QAAU,MACzB"}